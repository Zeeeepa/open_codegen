🔧 Custom port 8000 specified - running in DIRECT ACCESS mode
🚀 Starting OpenAI Codegen Adapter Server
==================================================
🚀 Mode: DIRECT ACCESS
📍 Server: http://127.0.0.1:8000
🔗 OpenAI API endpoint: http://127.0.0.1:8000/v1
==================================================
💡 Press Ctrl+C to stop the server and cleanup DNS interception
==================================================
🌐 Starting HTTP server on port 8000...
2025-07-09 16:29:31,875 | INFO | Initialized Codegen agent for org_id: 323
2025-07-09 16:29:31,876 | INFO | Created system message storage at backend/data/system_messages.json
2025-07-09 16:29:31,876 | INFO | System message manager initialized
2025-07-09 16:29:47,140 | INFO | System message cleared for user default
2025-07-09 16:29:47,145 | INFO | System message saved for user default (17 characters)
2025-07-09 16:29:47,150 | INFO | System message saved for user default (17 characters)
2025-07-09 16:29:47,154 | INFO | 🚀 DIRECT REQUEST START | Endpoint: /v1/chat/completions
2025-07-09 16:29:47,154 | INFO |    📊 Request Data: {'model': 'gpt-3.5-turbo', 'messages': [{'role': 'user', 'content': 'What is your name?', 'name': None}], 'temperature': 0.7, 'max_tokens': None, 'top_p': 1.0, 'frequency_penalty': 0.0, 'presence_penalty': 0.0, 'stream': False, 'stop': None, 'user': None}
2025-07-09 16:29:47,154 | INFO |    🕐 Timestamp: 2025-07-09T16:29:47.154951
2025-07-09 16:29:47,155 | INFO | 📦 Initiating non-streaming response...
2025-07-09 16:29:47,155 | INFO | 🔄 Starting response collection from Codegen...
2025-07-09 16:29:47,155 | INFO |    📝 Prompt length: 64 characters
2025-07-09 16:29:49,118 | INFO | Created task with ID: 51357
2025-07-09 16:30:32,110 | INFO | Task 51357 extracted content from task.result
2025-07-09 16:30:32,110 | INFO | Task 51357 yielding content from task.result: 42 chars
2025-07-09 16:30:32,110 | INFO | 📦 First response chunk received (42 chars)
2025-07-09 16:30:32,110 | INFO | ✅ Response collection completed in 44.96s
2025-07-09 16:30:32,110 | INFO |    📊 Total chunks: 1
2025-07-09 16:30:32,110 | INFO |    📏 Raw content length: 42 characters
2025-07-09 16:30:32,110 | INFO |    📏 Cleaned content length: 42 characters
2025-07-09 16:30:32,110 | INFO |    🔢 Estimated tokens: 10
2025-07-09 16:30:32,110 | INFO |    📄 Raw content preview: My name is Bubu! How can I help you today?...
2025-07-09 16:30:32,110 | INFO |    📄 Cleaned content preview: My name is Bubu! How can I help you today?...
2025-07-09 16:30:32,110 | INFO | 🔢 Token estimation - Prompt: 16, Completion: 10
2025-07-09 16:30:32,111 | INFO | 📤 OPENAI RESPONSE GENERATED | Processing Time: 44.96s
2025-07-09 16:30:32,111 | INFO |    🆔 Response ID: chatcmpl-5e6c57573462427aadccec39ab034
2025-07-09 16:30:32,111 | INFO |    ���������� Model: gpt-3.5-turbo
2025-07-09 16:30:32,111 | INFO |    📝 Choices: 1
2025-07-09 16:30:32,111 | INFO |    🔢 Token Usage - Prompt: 16, Completion: 10, Total: 26
2025-07-09 16:30:32,111 | INFO |    📄 Content Preview: My name is Bubu! How can I help you today?...
2025-07-09 16:30:32,111 | INFO | ✅ Chat completion successful in 44.96s
2025-07-09 16:30:32,124 | INFO | System message cleared for user default
2025-07-09 16:30:32,131 | INFO | 🚀 DIRECT REQUEST START | Endpoint: /v1/chat/completions
2025-07-09 16:30:32,131 | INFO |    📊 Request Data: {'model': 'gpt-3.5-turbo', 'messages': [{'role': 'user', 'content': 'What are you?', 'name': None}], 'temperature': 0.7, 'max_tokens': None, 'top_p': 1.0, 'frequency_penalty': 0.0, 'presence_penalty': 0.0, 'stream': False, 'stop': None, 'user': None}
2025-07-09 16:30:32,131 | INFO |    🕐 Timestamp: 2025-07-09T16:30:32.131576
2025-07-09 16:30:32,131 | INFO | 📦 Initiating non-streaming response...
2025-07-09 16:30:32,131 | INFO | 🔄 Starting response collection from Codegen...
2025-07-09 16:30:32,131 | INFO |    📝 Prompt length: 624 characters
2025-07-09 16:30:34,252 | INFO | Created task with ID: 51358
2025-07-09 16:31:42,827 | INFO | Task 51358 extracted content from task.result
2025-07-09 16:31:42,828 | INFO | Task 51358 yielding content from task.result: 2560 chars
2025-07-09 16:31:42,828 | INFO | 📦 First response chunk received (2560 chars)
2025-07-09 16:31:42,828 | INFO | ✅ Response collection completed in 70.70s
2025-07-09 16:31:42,828 | INFO |    📊 Total chunks: 1
2025-07-09 16:31:42,828 | INFO |    📏 Raw content length: 2560 characters
2025-07-09 16:31:42,828 | INFO |    📏 Cleaned content length: 2560 characters
2025-07-09 16:31:42,828 | INFO |    🔢 Estimated tokens: 640
2025-07-09 16:31:42,828 | INFO |    📄 Raw content preview: I am Codegen, an expert software engineering agent designed to help developer teams build incredible...
2025-07-09 16:31:42,828 | INFO |    📄 Cleaned content preview: I am Codegen, an expert software engineering agent designed to help developer teams build incredible...
2025-07-09 16:31:42,828 | INFO | 🔢 Token estimation - Prompt: 156, Completion: 640
2025-07-09 16:31:42,828 | INFO | 📤 OPENAI RESPONSE GENERATED | Processing Time: 70.70s
2025-07-09 16:31:42,828 | INFO |    🆔 Response ID: chatcmpl-faa2bad4dce647d0b8d4da5d7ccc3
2025-07-09 16:31:42,828 | INFO |    ���������� Model: gpt-3.5-turbo
2025-07-09 16:31:42,828 | INFO |    📝 Choices: 1
2025-07-09 16:31:42,828 | INFO |    🔢 Token Usage - Prompt: 156, Completion: 640, Total: 796
2025-07-09 16:31:42,828 | INFO |    📄 Content Preview: I am Codegen, an expert software engineering agent designed to help developer teams build incredible...
2025-07-09 16:31:42,828 | INFO | ✅ Chat completion successful in 70.70s
2025-07-09 16:31:42,832 | INFO | System message saved for user default (30 characters)
2025-07-09 16:31:42,837 | ERROR | Error saving system message: Expecting value: line 1 column 1 (char 0)
2025-07-09 16:31:51,600 | INFO | System message saved for user default (17 characters)
2025-07-09 16:31:58,266 | INFO | 🚀 DIRECT REQUEST START | Endpoint: /v1/chat/completions
2025-07-09 16:31:58,266 | INFO |    📊 Request Data: {'model': 'gpt-3.5-turbo', 'messages': [{'role': 'user', 'content': 'What is your name?', 'name': None}], 'temperature': 0.7, 'max_tokens': None, 'top_p': 1.0, 'frequency_penalty': 0.0, 'presence_penalty': 0.0, 'stream': False, 'stop': None, 'user': None}
2025-07-09 16:31:58,266 | INFO |    🕐 Timestamp: 2025-07-09T16:31:58.266755
2025-07-09 16:31:58,266 | INFO | 📦 Initiating non-streaming response...
2025-07-09 16:31:58,266 | INFO | 🔄 Starting response collection from Codegen...
2025-07-09 16:31:58,267 | INFO |    📝 Prompt length: 64 characters
2025-07-09 16:31:59,711 | INFO | Created task with ID: 51359
2025-07-09 16:32:26,046 | INFO | Task 51359 extracted content from task.result
2025-07-09 16:32:26,046 | INFO | Task 51359 yielding content from task.result: 42 chars
2025-07-09 16:32:26,046 | INFO | 📦 First response chunk received (42 chars)
2025-07-09 16:32:26,046 | INFO | ✅ Response collection completed in 27.78s
2025-07-09 16:32:26,046 | INFO |    📊 Total chunks: 1
2025-07-09 16:32:26,046 | INFO |    📏 Raw content length: 42 characters
2025-07-09 16:32:26,046 | INFO |    📏 Cleaned content length: 42 characters
2025-07-09 16:32:26,046 | INFO |    🔢 Estimated tokens: 10
2025-07-09 16:32:26,046 | INFO |    📄 Raw content preview: My name is Bubu! How can I help you today?...
2025-07-09 16:32:26,046 | INFO |    📄 Cleaned content preview: My name is Bubu! How can I help you today?...
2025-07-09 16:32:26,046 | INFO | 🔢 Token estimation - Prompt: 16, Completion: 10
2025-07-09 16:32:26,047 | INFO | 📤 OPENAI RESPONSE GENERATED | Processing Time: 27.78s
2025-07-09 16:32:26,047 | INFO |    🆔 Response ID: chatcmpl-5b52bcdb66754909bbfd5af6fd83b
2025-07-09 16:32:26,047 | INFO |    ���������� Model: gpt-3.5-turbo
2025-07-09 16:32:26,047 | INFO |    📝 Choices: 1
2025-07-09 16:32:26,047 | INFO |    🔢 Token Usage - Prompt: 16, Completion: 10, Total: 26
2025-07-09 16:32:26,047 | INFO |    📄 Content Preview: My name is Bubu! How can I help you today?...
2025-07-09 16:32:26,047 | INFO | ✅ Chat completion successful in 27.78s
